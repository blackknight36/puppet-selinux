# ***** THIS FILE IS MANAGED BY PUPPET *****
# files/private/mdct-00fs.dartcontainer.com/mirrmaid/mirrmaid-testing.conf
#
# mirrmaid configuration
#
# See the Python documentation for ConfigParser for full details, but in
# general you assign values with either 'key: value' or 'key = value'.  Values
# may be continued on successive lines provided they begin with one or more
# whitespace characters.  Leading and trailing whitespace is trimmed. Because
# of the interpolation features of ConfigParser, any percent signs (%) that
# are to be taken as such, must be doubled (%%).


[MIRRMAID]

### Operations Summary Controls ###

# Since mirrmaid is not a daemon, it only runs as scheduled by cron (or other
# means).  Thus the operations summaries cannot be triggered and sent
# unless/until mirrmaid is actually running.  Keep this in mind when
# considering the following options.

# summary_recipients is a list of email addresses to whom the operations
# summaries should be sent.  If set, this must be a valid Python list.
#
# OPTIONAL; DEFAULT IS
summary_recipients: ["john.florian@dart.biz",]

# This option controls the minimum number of seconds that mirrmaid will wait
# after sending an operations summary via email before sending another.
# A minimum value of ten minutes is silently enforced.
#
# OPTIONAL; DEFAULT IS (24 hours)
#summary_interval: 86400

# If the size (in bytes) of the operations summary has exceeded the
# {summary_interval} threshold, the email will be sent early without
# necessarily waiting for the {summary_interval} to have elapsed.  This can be
# useful to alert the {summary_recipients} of major trouble in a more
# expedient way.  Set this to zero to defeat this feature.
#
# OPTIONAL; DEFAULT IS
#summary_size: 20000

# mirrmaid will keep {summary_history_count} historical copies of operational
# summaries on disk before they are rotated out of existence.  A minimum value
# of one is silently enforced.
#
# OPTIONAL; DEFAULT IS
#summary_history_count: 3


[DEFAULT]

# rsync_options -- REQUIRED
# General options to be passed to rsync.  Note that order can be important, as
# some options may override some or all of others.
rsync_options: [
    "--archive",
    "--delay-updates",
    "--delete-after",
    "--delete-excluded",
    "--hard-links",
    "--partial-dir", ".rsync-partial",
    "--stats",
    "--verbose",
    "--no-group",
    "--no-owner",
    ]

# Here you may define other values for reuse in other sections.  To use the
# values, simply use the pattern '%(name)s'.  Values defined here in the DEFAULT
# section are unique in that they may be used in any other section.  In essence,
# their global whereas in any other section, they're local.

#
# Define tokens for mirroring any YUM repository
#
def_yum_source: /pub
def_yum_target: /pub/mirrors


#
# Define tokens for mirroring AOS snapshots of MDCT's YUM repository
#
def_yum_aos_snapshot_branch: fedora/aos
def_yum_aos_snapshot_includes: [ ]
def_yum_aos_snapshot_excludes: [
    "2.1",
    "2.1.1/",
    "SRPMS/",
    "betelgeuse/",
    "fedora-updates-testing/",
    "fedora-updates/",
    "fedora/",
    "functestupd8",
    "iso/",
    "procyon/",
    "repoview/",
    "rpmfusion-free-updates/",
    "rpmfusion-free/",
    "*lotus*",
    "mayflower-functestupd8*",
    "mdct-aos-update-functestupd8*",
    ]


#
# Define tokens for mirroring MDCT's YUM repository
#
def_yum_mdct_branch: fedora/mdct
def_yum_mdct_includes: [ ]
def_yum_mdct_excludes: [
    "7",
    "8",
    "9",
    "11",
    "12",
    "iso",
    "*lotus*",
    "mayflower-functestupd8*",
    "mdct-aos-update-functestupd8*",
    "repoview",
    "SRPMS",
    ]
yum_target_01pi: mdct-01pi:%(def_yum_target)s
yum_target_02pi: mdct-02pi:%(def_yum_target)s
yum_target_03pi: mdct-03pi:%(def_yum_target)s
yum_target_04pi: mdct-04pi:%(def_yum_target)s
yum_target_05pi: mdct-05pi:%(def_yum_target)s
yum_target_10pi: mdct-10pi:%(def_yum_target)s
yum_target_11pi: mdct-11pi:%(def_yum_target)s
yum_target_15pi: mdct-15pi:%(def_yum_target)s
yum_target_19pi: mdct-19pi:%(def_yum_target)s
yum_target_25pi: mdct-25pi:%(def_yum_target)s
yum_target_39pi: mdct-39pi:%(def_yum_target)s
yum_target_52pi: mdct-52pi:%(def_yum_target)s
yum_target_55pi: mdct-55pi:%(def_yum_target)s
yum_target_72pi: mdct-72pi:%(def_yum_target)s
yum_target_73pi: mdct-73pi:%(def_yum_target)s
yum_target_75pi: mdct-75pi:%(def_yum_target)s
yum_target_76pi: mdct-76pi:%(def_yum_target)s
yum_target_77pi: mdct-77pi:%(def_yum_target)s
yum_target_78pi: mdct-78pi:%(def_yum_target)s


#
# Define tokens for mirroring PICAPS configuration data
#
def_picaps_source: /dist
def_picaps_target: /storage/remote-backups/picaps/definitions
def_picaps_includes: [
    "marqueev3messagedefinitions",
    "reportdefinitions",
    "users",
    ]
def_picaps_excludes: [
    "/*",
    "*.tmp",
    ]
picaps_source_01pi: mdct-01pi:%(def_picaps_source)s
picaps_source_02pi: mdct-02pi:%(def_picaps_source)s
picaps_source_03pi: mdct-03pi:%(def_picaps_source)s
picaps_source_04pi: mdct-04pi:%(def_picaps_source)s
picaps_source_05pi: mdct-05pi:%(def_picaps_source)s
picaps_source_10pi: mdct-10pi:%(def_picaps_source)s
picaps_source_11pi: mdct-11pi:%(def_picaps_source)s
picaps_source_15pi: mdct-15pi:%(def_picaps_source)s
picaps_source_19pi: mdct-19pi:%(def_picaps_source)s
picaps_source_25pi: mdct-25pi:%(def_picaps_source)s
picaps_source_39pi: mdct-39pi:%(def_picaps_source)s
picaps_source_52pi: mdct-52pi:%(def_picaps_source)s
picaps_source_55pi: mdct-55pi:%(def_picaps_source)s
picaps_source_72pi: mdct-72pi:%(def_picaps_source)s
picaps_source_73pi: mdct-73pi:%(def_picaps_source)s
picaps_source_75pi: mdct-75pi:%(def_picaps_source)s
picaps_source_76pi: mdct-76pi:%(def_picaps_source)s
picaps_source_77pi: mdct-77pi:%(def_picaps_source)s
picaps_source_78pi: mdct-78pi:%(def_picaps_source)s
picaps_target_01pi: %(def_picaps_target)s/mdct-01pi
picaps_target_02pi: %(def_picaps_target)s/mdct-02pi
picaps_target_03pi: %(def_picaps_target)s/mdct-03pi
picaps_target_04pi: %(def_picaps_target)s/mdct-04pi
picaps_target_05pi: %(def_picaps_target)s/mdct-05pi
picaps_target_10pi: %(def_picaps_target)s/mdct-10pi
picaps_target_11pi: %(def_picaps_target)s/mdct-11pi
picaps_target_15pi: %(def_picaps_target)s/mdct-15pi
picaps_target_19pi: %(def_picaps_target)s/mdct-19pi
picaps_target_25pi: %(def_picaps_target)s/mdct-25pi
picaps_target_39pi: %(def_picaps_target)s/mdct-39pi
picaps_target_52pi: %(def_picaps_target)s/mdct-52pi
picaps_target_55pi: %(def_picaps_target)s/mdct-55pi
picaps_target_72pi: %(def_picaps_target)s/mdct-72pi
picaps_target_73pi: %(def_picaps_target)s/mdct-73pi
picaps_target_75pi: %(def_picaps_target)s/mdct-75pi
picaps_target_76pi: %(def_picaps_target)s/mdct-76pi
picaps_target_77pi: %(def_picaps_target)s/mdct-77pi
picaps_target_78pi: %(def_picaps_target)s/mdct-78pi



[MIRRORS]

# enabled -- REQUIRED
# Names of mirrors to be managed.  Each named mirror requires its own named
# section with details for that mirror.  Mirrors will be synchronized in the
# order listed here.
enabled: [
    "yum-aos-snapshot-repo-01pi",
    "yum-mdct-repo-01pi",
    ]


# Define each mirror below.  At a minimum, each enabled mirror must be defined
# and must provide the following keys:
#       source          The rsync URI of what is to be mirrored.
#       target          The rsync URI of where the mirror is to be kept.
#       include         A Python list of patterns to be included in the
#                       mirror.
#       exclude         A Python list of patterns to be excluded from the
#                       mirror.


#
# Define mirrors for AOS snapshots of MDCT's YUM repository
#
[yum-aos-snapshot-repo-01pi]
source: %(def_yum_source)s/%(def_yum_aos_snapshot_branch)s
target: %(yum_target_01pi)s/%(def_yum_aos_snapshot_branch)s
include: %(def_yum_aos_snapshot_includes)s
exclude: %(def_yum_aos_snapshot_excludes)s


[yum-aos-snapshot-repo-02pi]
source: %(def_yum_source)s/%(def_yum_aos_snapshot_branch)s
target: %(yum_target_02pi)s/%(def_yum_aos_snapshot_branch)s
include: %(def_yum_aos_snapshot_includes)s
exclude: %(def_yum_aos_snapshot_excludes)s


[yum-aos-snapshot-repo-03pi]
source: %(def_yum_source)s/%(def_yum_aos_snapshot_branch)s
target: %(yum_target_03pi)s/%(def_yum_aos_snapshot_branch)s
include: %(def_yum_aos_snapshot_includes)s
exclude: %(def_yum_aos_snapshot_excludes)s


[yum-aos-snapshot-repo-04pi]
source: %(def_yum_source)s/%(def_yum_aos_snapshot_branch)s
target: %(yum_target_04pi)s/%(def_yum_aos_snapshot_branch)s
include: %(def_yum_aos_snapshot_includes)s
exclude: %(def_yum_aos_snapshot_excludes)s


[yum-aos-snapshot-repo-05pi]
source: %(def_yum_source)s/%(def_yum_aos_snapshot_branch)s
target: %(yum_target_05pi)s/%(def_yum_aos_snapshot_branch)s
include: %(def_yum_aos_snapshot_includes)s
exclude: %(def_yum_aos_snapshot_excludes)s


[yum-aos-snapshot-repo-10pi]
source: %(def_yum_source)s/%(def_yum_aos_snapshot_branch)s
target: %(yum_target_10pi)s/%(def_yum_aos_snapshot_branch)s
include: %(def_yum_aos_snapshot_includes)s
exclude: %(def_yum_aos_snapshot_excludes)s


[yum-aos-snapshot-repo-11pi]
source: %(def_yum_source)s/%(def_yum_aos_snapshot_branch)s
target: %(yum_target_11pi)s/%(def_yum_aos_snapshot_branch)s
include: %(def_yum_aos_snapshot_includes)s
exclude: %(def_yum_aos_snapshot_excludes)s


[yum-aos-snapshot-repo-15pi]
source: %(def_yum_source)s/%(def_yum_aos_snapshot_branch)s
target: %(yum_target_15pi)s/%(def_yum_aos_snapshot_branch)s
include: %(def_yum_aos_snapshot_includes)s
exclude: %(def_yum_aos_snapshot_excludes)s


[yum-aos-snapshot-repo-19pi]
source: %(def_yum_source)s/%(def_yum_aos_snapshot_branch)s
target: %(yum_target_19pi)s/%(def_yum_aos_snapshot_branch)s
include: %(def_yum_aos_snapshot_includes)s
exclude: %(def_yum_aos_snapshot_excludes)s


[yum-aos-snapshot-repo-25pi]
source: %(def_yum_source)s/%(def_yum_aos_snapshot_branch)s
target: %(yum_target_25pi)s/%(def_yum_aos_snapshot_branch)s
include: %(def_yum_aos_snapshot_includes)s
exclude: %(def_yum_aos_snapshot_excludes)s


[yum-aos-snapshot-repo-39pi]
source: %(def_yum_source)s/%(def_yum_aos_snapshot_branch)s
target: %(yum_target_39pi)s/%(def_yum_aos_snapshot_branch)s
include: %(def_yum_aos_snapshot_includes)s
exclude: %(def_yum_aos_snapshot_excludes)s


[yum-aos-snapshot-repo-52pi]
source: %(def_yum_source)s/%(def_yum_aos_snapshot_branch)s
target: %(yum_target_52pi)s/%(def_yum_aos_snapshot_branch)s
include: %(def_yum_aos_snapshot_includes)s
exclude: %(def_yum_aos_snapshot_excludes)s


[yum-aos-snapshot-repo-55pi]
source: %(def_yum_source)s/%(def_yum_aos_snapshot_branch)s
target: %(yum_target_55pi)s/%(def_yum_aos_snapshot_branch)s
include: %(def_yum_aos_snapshot_includes)s
exclude: %(def_yum_aos_snapshot_excludes)s


[yum-aos-snapshot-repo-72pi]
source: %(def_yum_source)s/%(def_yum_aos_snapshot_branch)s
target: %(yum_target_72pi)s/%(def_yum_aos_snapshot_branch)s
include: %(def_yum_aos_snapshot_includes)s
exclude: %(def_yum_aos_snapshot_excludes)s


[yum-aos-snapshot-repo-73pi]
source: %(def_yum_source)s/%(def_yum_aos_snapshot_branch)s
target: %(yum_target_73pi)s/%(def_yum_aos_snapshot_branch)s
include: %(def_yum_aos_snapshot_includes)s
exclude: %(def_yum_aos_snapshot_excludes)s


[yum-aos-snapshot-repo-75pi]
source: %(def_yum_source)s/%(def_yum_aos_snapshot_branch)s
target: %(yum_target_75pi)s/%(def_yum_aos_snapshot_branch)s
include: %(def_yum_aos_snapshot_includes)s
exclude: %(def_yum_aos_snapshot_excludes)s


[yum-aos-snapshot-repo-76pi]
source: %(def_yum_source)s/%(def_yum_aos_snapshot_branch)s
target: %(yum_target_76pi)s/%(def_yum_aos_snapshot_branch)s
include: %(def_yum_aos_snapshot_includes)s
exclude: %(def_yum_aos_snapshot_excludes)s


[yum-aos-snapshot-repo-77pi]
source: %(def_yum_source)s/%(def_yum_aos_snapshot_branch)s
target: %(yum_target_77pi)s/%(def_yum_aos_snapshot_branch)s
include: %(def_yum_aos_snapshot_includes)s
exclude: %(def_yum_aos_snapshot_excludes)s


[yum-aos-snapshot-repo-78pi]
source: %(def_yum_source)s/%(def_yum_aos_snapshot_branch)s
target: %(yum_target_78pi)s/%(def_yum_aos_snapshot_branch)s
include: %(def_yum_aos_snapshot_includes)s
exclude: %(def_yum_aos_snapshot_excludes)s


#
# Define mirrors for MDCT's YUM repository
#
[yum-mdct-repo-01pi]
source: %(def_yum_source)s/%(def_yum_mdct_branch)s
target: %(yum_target_01pi)s/%(def_yum_mdct_branch)s
# NB: Here we override the default exclusion of this package (new and old
# name) so that functional testing with this package is possible.  (It won't
# be needed anywhere else and would only negatively impact the WAN.)
include: %(def_yum_mdct_includes)s + [
    "mayflower-*",
    "mdct-aos-update-*",
    ]
exclude: %(def_yum_mdct_excludes)s


[yum-mdct-repo-02pi]
source: %(def_yum_source)s/%(def_yum_mdct_branch)s
target: %(yum_target_02pi)s/%(def_yum_mdct_branch)s
include: %(def_yum_mdct_includes)s
exclude: %(def_yum_mdct_excludes)s


[yum-mdct-repo-03pi]
source: %(def_yum_source)s/%(def_yum_mdct_branch)s
target: %(yum_target_03pi)s/%(def_yum_mdct_branch)s
include: %(def_yum_mdct_includes)s
exclude: %(def_yum_mdct_excludes)s


[yum-mdct-repo-04pi]
source: %(def_yum_source)s/%(def_yum_mdct_branch)s
target: %(yum_target_04pi)s/%(def_yum_mdct_branch)s
include: %(def_yum_mdct_includes)s
exclude: %(def_yum_mdct_excludes)s


[yum-mdct-repo-05pi]
source: %(def_yum_source)s/%(def_yum_mdct_branch)s
target: %(yum_target_05pi)s/%(def_yum_mdct_branch)s
include: %(def_yum_mdct_includes)s
exclude: %(def_yum_mdct_excludes)s


[yum-mdct-repo-10pi]
source: %(def_yum_source)s/%(def_yum_mdct_branch)s
target: %(yum_target_10pi)s/%(def_yum_mdct_branch)s
include: %(def_yum_mdct_includes)s
exclude: %(def_yum_mdct_excludes)s


[yum-mdct-repo-11pi]
source: %(def_yum_source)s/%(def_yum_mdct_branch)s
target: %(yum_target_11pi)s/%(def_yum_mdct_branch)s
include: %(def_yum_mdct_includes)s
exclude: %(def_yum_mdct_excludes)s


[yum-mdct-repo-15pi]
source: %(def_yum_source)s/%(def_yum_mdct_branch)s
target: %(yum_target_15pi)s/%(def_yum_mdct_branch)s
include: %(def_yum_mdct_includes)s
exclude: %(def_yum_mdct_excludes)s


[yum-mdct-repo-19pi]
source: %(def_yum_source)s/%(def_yum_mdct_branch)s
target: %(yum_target_19pi)s/%(def_yum_mdct_branch)s
include: %(def_yum_mdct_includes)s
exclude: %(def_yum_mdct_excludes)s


[yum-mdct-repo-25pi]
source: %(def_yum_source)s/%(def_yum_mdct_branch)s
target: %(yum_target_25pi)s/%(def_yum_mdct_branch)s
include: %(def_yum_mdct_includes)s
exclude: %(def_yum_mdct_excludes)s


[yum-mdct-repo-39pi]
source: %(def_yum_source)s/%(def_yum_mdct_branch)s
target: %(yum_target_39pi)s/%(def_yum_mdct_branch)s
include: %(def_yum_mdct_includes)s
exclude: %(def_yum_mdct_excludes)s


[yum-mdct-repo-52pi]
source: %(def_yum_source)s/%(def_yum_mdct_branch)s
target: %(yum_target_52pi)s/%(def_yum_mdct_branch)s
include: %(def_yum_mdct_includes)s
exclude: %(def_yum_mdct_excludes)s


[yum-mdct-repo-55pi]
source: %(def_yum_source)s/%(def_yum_mdct_branch)s
target: %(yum_target_55pi)s/%(def_yum_mdct_branch)s
include: %(def_yum_mdct_includes)s
exclude: %(def_yum_mdct_excludes)s


[yum-mdct-repo-72pi]
source: %(def_yum_source)s/%(def_yum_mdct_branch)s
target: %(yum_target_72pi)s/%(def_yum_mdct_branch)s
include: %(def_yum_mdct_includes)s
exclude: %(def_yum_mdct_excludes)s


[yum-mdct-repo-73pi]
source: %(def_yum_source)s/%(def_yum_mdct_branch)s
target: %(yum_target_73pi)s/%(def_yum_mdct_branch)s
include: %(def_yum_mdct_includes)s
exclude: %(def_yum_mdct_excludes)s


[yum-mdct-repo-75pi]
source: %(def_yum_source)s/%(def_yum_mdct_branch)s
target: %(yum_target_75pi)s/%(def_yum_mdct_branch)s
include: %(def_yum_mdct_includes)s
exclude: %(def_yum_mdct_excludes)s


[yum-mdct-repo-76pi]
source: %(def_yum_source)s/%(def_yum_mdct_branch)s
target: %(yum_target_76pi)s/%(def_yum_mdct_branch)s
include: %(def_yum_mdct_includes)s
exclude: %(def_yum_mdct_excludes)s


[yum-mdct-repo-77pi]
source: %(def_yum_source)s/%(def_yum_mdct_branch)s
target: %(yum_target_77pi)s/%(def_yum_mdct_branch)s
include: %(def_yum_mdct_includes)s
exclude: %(def_yum_mdct_excludes)s


[yum-mdct-repo-78pi]
source: %(def_yum_source)s/%(def_yum_mdct_branch)s
target: %(yum_target_78pi)s/%(def_yum_mdct_branch)s
include: %(def_yum_mdct_includes)s
exclude: %(def_yum_mdct_excludes)s


#
# Define mirrors for PICAPS configuration data
#
[picaps-definitions-01pi]
source: %(picaps_source_01pi)s
target: %(picaps_target_01pi)s
include: %(def_picaps_includes)s
exclude: %(def_picaps_excludes)s


[picaps-definitions-02pi]
source: %(picaps_source_02pi)s
target: %(picaps_target_02pi)s
include: %(def_picaps_includes)s
exclude: %(def_picaps_excludes)s


[picaps-definitions-03pi]
source: %(picaps_source_03pi)s
target: %(picaps_target_03pi)s
include: %(def_picaps_includes)s
exclude: %(def_picaps_excludes)s


[picaps-definitions-04pi]
source: %(picaps_source_04pi)s
target: %(picaps_target_04pi)s
include: %(def_picaps_includes)s
exclude: %(def_picaps_excludes)s


[picaps-definitions-05pi]
source: %(picaps_source_05pi)s
target: %(picaps_target_05pi)s
include: %(def_picaps_includes)s
exclude: %(def_picaps_excludes)s


[picaps-definitions-10pi]
source: %(picaps_source_10pi)s
target: %(picaps_target_10pi)s
include: %(def_picaps_includes)s
exclude: %(def_picaps_excludes)s


[picaps-definitions-11pi]
source: %(picaps_source_11pi)s
target: %(picaps_target_11pi)s
include: %(def_picaps_includes)s
exclude: %(def_picaps_excludes)s


[picaps-definitions-15pi]
source: %(picaps_source_15pi)s
target: %(picaps_target_15pi)s
include: %(def_picaps_includes)s
exclude: %(def_picaps_excludes)s


[picaps-definitions-19pi]
source: %(picaps_source_19pi)s
target: %(picaps_target_19pi)s
include: %(def_picaps_includes)s
exclude: %(def_picaps_excludes)s


[picaps-definitions-25pi]
source: %(picaps_source_25pi)s
target: %(picaps_target_25pi)s
include: %(def_picaps_includes)s
exclude: %(def_picaps_excludes)s


[picaps-definitions-39pi]
source: %(picaps_source_39pi)s
target: %(picaps_target_39pi)s
include: %(def_picaps_includes)s
exclude: %(def_picaps_excludes)s


[picaps-definitions-52pi]
source: %(picaps_source_52pi)s
target: %(picaps_target_52pi)s
include: %(def_picaps_includes)s
exclude: %(def_picaps_excludes)s


[picaps-definitions-55pi]
source: %(picaps_source_55pi)s
target: %(picaps_target_55pi)s
include: %(def_picaps_includes)s
exclude: %(def_picaps_excludes)s


[picaps-definitions-72pi]
source: %(picaps_source_72pi)s
target: %(picaps_target_72pi)s
include: %(def_picaps_includes)s
exclude: %(def_picaps_excludes)s


[picaps-definitions-73pi]
source: %(picaps_source_73pi)s
target: %(picaps_target_73pi)s
include: %(def_picaps_includes)s
exclude: %(def_picaps_excludes)s


[picaps-definitions-75pi]
source: %(picaps_source_75pi)s
target: %(picaps_target_75pi)s
include: %(def_picaps_includes)s
exclude: %(def_picaps_excludes)s


[picaps-definitions-76pi]
source: %(picaps_source_76pi)s
target: %(picaps_target_76pi)s
include: %(def_picaps_includes)s
exclude: %(def_picaps_excludes)s


[picaps-definitions-77pi]
source: %(picaps_source_77pi)s
target: %(picaps_target_77pi)s
include: %(def_picaps_includes)s
exclude: %(def_picaps_excludes)s


[picaps-definitions-78pi]
source: %(picaps_source_78pi)s
target: %(picaps_target_78pi)s
include: %(def_picaps_includes)s
exclude: %(def_picaps_excludes)s
